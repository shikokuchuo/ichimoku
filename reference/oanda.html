<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Retrieve price data for major currencies, metals, commodities, government
    bonds and stock indices from the OANDA fxTrade API."><title>OANDA Price Data — oanda • ichimoku</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="OANDA Price Data — oanda"><meta property="og:description" content="Retrieve price data for major currencies, metals, commodities, government
    bonds and stock indices from the OANDA fxTrade API."><meta property="og:image" content="https://shikokuchuo.net/ichimoku/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ichimoku</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/reference.html">ichimoku: Cloud Charts - The Reference Manual</a>
    <a class="dropdown-item" href="../articles/strategies.html">ichimoku: Beyond Visualization - Quantitative Strategies</a>
    <a class="dropdown-item" href="../articles/utilities.html">ichimoku: Auxiliary Functions</a>
    <a class="dropdown-item" href="../articles/xoanda.html">ichimoku: The OANDA fxTrade API</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/shikokuchuo/ichimoku/">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://shikokuchuo.net/">
    <span class="fa fa-cube"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>OANDA Price Data</h1>
      <small class="dont-index">Source: <a href="https://github.com/shikokuchuo/ichimoku/blob/HEAD/R/oanda.R" class="external-link"><code>R/oanda.R</code></a></small>
      <div class="d-none name"><code>oanda.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Retrieve price data for major currencies, metals, commodities, government
    bonds and stock indices from the OANDA fxTrade API.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">oanda</span><span class="op">(</span></span>
<span>  <span class="va">instrument</span>,</span>
<span>  granularity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"D"</span>, <span class="st">"W"</span>, <span class="st">"M"</span>, <span class="st">"H12"</span>, <span class="st">"H8"</span>, <span class="st">"H6"</span>, <span class="st">"H4"</span>, <span class="st">"H3"</span>, <span class="st">"H2"</span>, <span class="st">"H1"</span>, <span class="st">"M30"</span>, <span class="st">"M15"</span>,</span>
<span>    <span class="st">"M10"</span>, <span class="st">"M5"</span>, <span class="st">"M4"</span>, <span class="st">"M2"</span>, <span class="st">"M1"</span>, <span class="st">"S30"</span>, <span class="st">"S15"</span>, <span class="st">"S10"</span>, <span class="st">"S5"</span><span class="op">)</span>,</span>
<span>  count <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  from <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  to <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  price <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"M"</span>, <span class="st">"B"</span>, <span class="st">"A"</span><span class="op">)</span>,</span>
<span>  <span class="va">server</span>,</span>
<span>  <span class="va">apikey</span>,</span>
<span>  <span class="va">quietly</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>instrument</dt>
<dd><p>string containing the base currency and quote currency
delimited by '_' or '-' (e.g. "USD_JPY" or "usd-jpy"). Use the
<code><a href="oanda_instruments.html">oanda_instruments</a></code> function to return a list of all valid
instruments.</p></dd>


<dt>granularity</dt>
<dd><p>[default "D"] the granularity of the price data to fetch,
one of "M", "W", "D", "H12", "H8", "H6", "H4", "H3", "H2", "H1", "M30",
"M15", "M10", "M5", "M4", "M2", "M1", "S30", "S15", "S10", "S5".</p></dd>


<dt>count</dt>
<dd><p>(optional) the number of periods to return. The API supports a
maximum of 5000 for each individual request, and defaults to 500 if not
specified. If both 'from' and 'to' are specified, 'count' is ignored, as
the time range combined with 'granularity' will determine the number of
periods to return.</p></dd>


<dt>from</dt>
<dd><p>(optional) the start of the time range for which to fetch price
data, in a format convertible to POSIXct by <code><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct()</a></code>, for
example "2020-02-01".</p></dd>


<dt>to</dt>
<dd><p>(optional) the end of the time range for which to fetch price data,
in a format convertible to POSIXct by <code><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct()</a></code>, for example
"2020-06-30".</p></dd>


<dt>price</dt>
<dd><p>[default "M"] pricing component, one of "M" (midpoint), "B" (bid)
or "A" (ask).</p></dd>


<dt>server</dt>
<dd><p>(optional) specify the "practice" or "live" server according to
the account type held. If not specified, will default to "practice", unless
this has been changed by <code><a href="oanda_switch.html">oanda_switch</a></code>.</p></dd>


<dt>apikey</dt>
<dd><p>(optional) string containing the OANDA fxTrade API key (personal
access token), or function that returns this string. Does not need to be
specified if already stored as the environment variable
<code>OANDA_API_KEY</code> or by <code><a href="oanda_set_key.html">oanda_set_key</a></code>. Can also be
entered interactively if not specified.</p></dd>


<dt>quietly</dt>
<dd><p>(optional) if set to TRUE, will suppress printing of auxiliary
output to the console and return quietly.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A data.frame containing the price data requested.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function queries the OANDA fxTrade API.</p>
<p>Requires an fxTrade account with OANDA <a href="https://www.oanda.com/forex-trading/" class="external-link">https://www.oanda.com/forex-trading/</a>.
    If you do not already hold a live account, you may register for an OANDA
    fxTrade practice / demo account. There is a link on your OANDA fxTrade
    account profile page 'Manage API Access' (My Account -&gt; My Services -&gt;
    Manage API Access). From there, a personal access token to use with the
    OANDA API can be generated, as well as revoked.</p>
<p>The <code><a href="oanda_set_key.html">oanda_set_key</a></code> function can be used to save the API key
    in the system credential store so that it is automatically recognised in
    future (requires the 'keyring' package to be installed).</p>
    </div>
    <div class="section level2">
    <h2 id="further-details">Further Details<a class="anchor" aria-label="anchor" href="#further-details"></a></h2>
    

<p>Please refer to the OANDA fxTrade API vignette by calling:
    <code><a href="../articles/xoanda.html">vignette("xoanda", package = "ichimoku")</a></code>.</p>
<p>'OANDA' and 'fxTrade' are trademarks owned by OANDA Corporation, an
    entity unaffiliated with the ichimoku package.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># OANDA fxTrade API key required to run these examples</span></span></span>
<span class="r-in"><span><span class="va">prices</span> <span class="op">&lt;-</span> <span class="fu">oanda</span><span class="op">(</span><span class="st">"USD_JPY"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ichimoku.html">ichimoku</a></span><span class="op">(</span><span class="va">prices</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">oanda</span><span class="op">(</span><span class="st">"EUR_JPY"</span>, granularity <span class="op">=</span> <span class="st">"H1"</span>, count <span class="op">=</span> <span class="fl">250</span>, from <span class="op">=</span> <span class="st">"2020-02-01"</span>, price <span class="op">=</span> <span class="st">"B"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Charlie Gao.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

